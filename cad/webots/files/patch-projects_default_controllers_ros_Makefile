--- projects/default/controllers/ros/Makefile.orig	2020-12-15 08:37:01 UTC
+++ projects/default/controllers/ros/Makefile
@@ -71,11 +71,19 @@ include/services/%.h: $(WEBOTS_HOME_PATH)/resources/we
 ROS_HEADERS: $(GENERATED_HEADERS)
 	+@cp -f include/RecognitionObject.h include/webots_ros/RecognitionObject.h
 
-INCLUDE = -isystem $(WEBOTS_HOME_PATH)/projects/default/controllers/ros/include -isystem /opt/ros/$(ROS_DISTRO)/include
+INCLUDE = -isystem $(WEBOTS_HOME_PATH)/projects/default/controllers/ros/include
 
+ifeq ($(OSTYPE),freebsd)
+INCLUDE += -isystem $(LOCALBASE)/include
+ROS_LIBDIR = $(LOCALBASE)/lib
+else
+INCLUDE += -isystem /opt/ros/$(ROS_DISTRO)/include
+ROS_LIBDIR = /opt/ros/$(ROS_DISTRO)/lib
+endif
+
 # include ros libraries
 
-LIBRARIES += -L/opt/ros/$(ROS_DISTRO)/lib -lxmlrpcpp -lcpp_common -lrosconsole_backend_interface -lroscpp -lrosconsole -lrosconsole_log4cxx -lroscpp_serialization -lrostime
+LIBRARIES += -L$(ROS_LIBDIR) -lxmlrpcpp -lcpp_common -lrosconsole_backend_interface -lroscpp -lrosconsole -lrosconsole_log4cxx -lroscpp_serialization -lrostime
 ifeq ($(OSTYPE),windows)
  LIBRARIES += -lws2_32
  ifeq ($(MAKECMDGOALS),debug)
